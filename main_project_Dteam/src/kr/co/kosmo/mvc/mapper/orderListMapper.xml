<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="orderList">
	<select id="orderAllList" resultType="ordvo">
		select * from orderlist

	</select>
	<select id="orderList" resultType="ordvo" parameterType="int">
		select
		ord_num, mem_num, pro_num, ord_qty, ord_date from orderList
		where
		ord_num=#{ord_num}
	</select>
	
	<select id="orderDetail" resultType="ordvo" parameterType="int">
		select PRO_NUM, PRO_NAME, PRO_PRICE,
		(PRO_PRICE*(100-pro_discount)/100) as pro_sellprice, pro_discount,
		PRO_DELIVERY,PRO_PERIOD, PRO_THUMB, PRO_PHOTO, PRO_DETAIL, PRO_RDATE,
		SEL_NUM from product where pro_num=#{pro_num}
	</select>

	<resultMap type="provo" id="bestlistMap">
		<id property="pro_num" column="pro_num" javaType="int" />
		<result property="pro_name" column="pro_name" />
		<result property="pro_discount" column="pro_discount" />
		<result property="sel_num" column="sel_num" javaType="int" />
		<result property="pro_price" column="pro_price" javaType="int" />
		<result property="pro_review" column="pro_review"
			javaType="int" />
		<result property="pro_thumb" column="pro_thumb" />
		<result property="pro_rdate" column="pro_rdate" />
		<result property="pro_dprice" column="pro_dprice" />
		<result property="pro_age" column="pro_age" javaType="int" />
		<association property="seller" javaType="selvo">
			<id property="sel_num" column="sel_num" javaType="int" />
			<result property="sel_name" column="sel_name" />
			<result property="sel_grade" column="sel_grade" javaType="int" />
		</association>
	</resultMap>

</mapper>
